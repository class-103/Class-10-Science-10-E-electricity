<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Added for mobile responsiveness -->

  <title> Quiz – 4. Ohm’s Law</title>
  
  <style>
    body {      font-family: Arial, sans-serif;      padding: 20px;      background: #121212;      color: #f0f0f0;    }    #logo {      display: block;      margin: 0 auto 25px;       max-width: 180px;      width: 80%;      height: auto;    }    #name-container {      background: #1e1e1e;      padding: 30px;      border-radius: 6px;      max-width: 420px;       width: 90%;      margin: 0 auto;    }    #name-container input {      width: 100%;      padding: 10px;      margin: 10px 0 15px;      border: none;      border-radius: 4px;       font-size: 16px;    }    #quiz-container {      display: none;    }    .question {      border: 1px solid #333;      padding: 15px;      margin-bottom: 20px;
      border-radius: 5px;      background: #1e1e1e;    }    .question h3 {      margin: 0 0 10px;    }    .option-item {      display: flex;      align-items: center;       gap: 8px;      margin: 6px 0;      padding: 6px 8px;      border-radius: 4px;      background: #2a2a2a;      color: #ccc;      cursor: pointer;    }     .option-item input[type="radio"] {      margin: 0;    }    .submit-button, .toggle-button, .dontknow-button {      margin-top: 10px;      padding: 6px 12px;       background: #007BFF;      color: #fff;      border: none;      border-radius: 4px;      cursor: pointer;      margin-right: 5px;    }    .solution {       display: none;      margin-top: 10px;      background: #2d2d2d;      padding: 10px;      border-left: 4px solid #28a745;    }    #scorecard {       background: #2d2d2d;      padding: 15px;      border-radius: 6px;      margin-top: 30px;      display: none;    }    #timer {      font-weight: bold;       color: #00ffcc;    }     #studentPrintName {       text-align: center;      font-size: 18px;      font-weight: bold;      margin-top: -15px;      margin-bottom: 5px;      display: none;    }     #examDateTime {      text-align: center;      font-size: 14px;      margin-bottom: 20px;      display: none;    }
    @media print {      body {        background: #fff;        color: #000;      }       .submit-button, .dontknow-button, .toggle-button, #reportBtn, #reportModal {        display: none !important;      }      #name-container {        display: none !important;      }    }
    #reportBtn {      position: fixed;      bottom: 20px;      right: 20px;      background: #ff4757;      color: white;      border: none;      padding: 12px 18px;       border-radius: 50px;      cursor: pointer;      font-weight: bold;      box-shadow: 0px 4px 10px rgba(0,0,0,0.3);      z-index: 1000;    }     #reportModal {      display: none;      position: fixed;      bottom: 80px;      right: 20px;      background: #1e1e1e;      border: 1px solid #444;      padding: 15px;       border-radius: 8px;      width: 260px;      z-index: 1001;     }
    #reportModal textarea {      width: 100%;      height: 80px;      padding: 8px;      border: none;      border-radius: 4px;      resize: none;      font-size: 14px;     }     #reportModal button {      margin-top: 10px;      padding: 8px 12px;      border: none;      border-radius: 4px;      cursor: pointer;      font-weight: bold;    }     #sendReport {      background: #28a745;      color: white;    }
    #closeReport {      background: #dc3545;      color: white;      margin-left: 5px;    }     /* Added responsive styles */     img {      max-width: 100%;      height: auto;    }     @media (max-width: 480px) {      .submit-button, .dontknow-button {        width: 100%;        margin-bottom: 10px;      }    }     #scoreTable {      overflow-x: auto;      display: block;      width: 100%;    }
  </style>

  <!-- MathJax Configuration -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(','\\)'], ['$', '$']], 
        displayMath: [['$$','$$'], ['\\[','\\]']],
        processEscapes: true
      },
      options: { skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'] }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

<img id="logo" src="https://i.ibb.co/WNZTWPwv/LOGO-PNG-2025-fab.png" alt="Logo" />

<div id="studentPrintName"></div>
<div id="examDateTime"></div>

<div id="name-container">
  <h2>Enter your name to begin</h2>
  <input type="text" id="studentNameInput" placeholder="Your Name" />
  <button class="submit-button" onclick="startQuiz()">Start Quiz</button>
</div>

<div id="quiz-container">

  <h2> Quiz – 4. Ohm’s Law</h2>
  
  <p><strong>Time Elapsed:</strong> <span id="timer">00:00</span></p>
  <div id="questions-container"></div>

  <div style="margin-top:30px;">
    <button class="submit-button" onclick="finalSubmit()">Final Submit</button>
    <button class="submit-button" onclick="printQuestions()">Print Questions</button>
    <button class="submit-button" id="printScoreBtn" onclick="printScorecard()" style="display:none;">Save or Print Scorecard</button>
    <button class="submit-button" id="shareWhatsappBtn" style="display:none;">SHARE on WhatsApp</button>
  </div>

  <div id="scorecard">
    <h3>Your Scorecard</h3>
    <p id="scoreText"></p>
    <table id="scoreTable" border="1" cellspacing="0" cellpadding="6" style="border-collapse:collapse; margin-top:15px;">
      <thead style="background:#333;color:#fff;">
        <tr>
          <th>Q.No</th>
          <th>Question</th>
          <th>Your Answer</th>
          <th>Correct Answer</th>
          <th>Result</th>
          <th>Solution</th>
        </tr>
      </thead>
      <tbody id="scoreDetails"></tbody>
    </table>
  </div>
</div>

<button id="reportBtn">Report Mistake</button>

<div id="reportModal">
  <textarea id="reportMsg" placeholder="Describe the mistake..."></textarea>
  <div style="text-align:right;">
    <button id="sendReport">Send</button>
    <button id="closeReport">Close</button>
  </div>
</div>

<script>
// JavaScript content remains unchanged except responsive improvements handled by CSS only
// (You can paste the JavaScript section exactly as in your original code here)

const Q = [
  {
    "id": "q1",
    "text": "What does Ohm’s law state?",
    "options": [
      "The current is inversely proportional to voltage",
      "The current is directly proportional to the voltage, provided the temperature remains constant",
      "The resistance is inversely proportional to current",
      "The voltage is independent of current"
    ],
    "correct": "B",
    "solution": "Ohm's law states that the current flowing through a conductor is directly proportional to the voltage across it if the temperature remains constant."
  },
  {
    "id": "q2",
    "text": "In the V-I graph of an Ohmic conductor, what type of line is obtained?",
    "options": [
      "A curve that opens upwards",
      "A straight line passing through the origin",
      "A horizontal line",
      "A vertical line"
    ],
    "correct": "B",
    "solution": "For an Ohmic conductor, the V-I graph is a straight line passing through the origin, indicating a constant resistance."
  },
  {
    "id": "q3",
    "text": "What happens to the resistance of Nichrome wire when temperature increases?",
    "options": [
      "It decreases",
      "It increases",
      "It remains constant",
      "It fluctuates randomly"
    ],
    "correct": "B",
    "solution": "The resistance of Nichrome wire increases with an increase in temperature due to more frequent collisions of electrons."
  },
  {
    "id": "q4",
    "text": "What is the SI unit of resistance?",
    "options": ["Ohm", "Volt", "Ampere", "Watt"],
    "correct": "A",
    "solution": "The SI unit of resistance is Ohm (symbol: Ω), defined as one volt per ampere."
  },
  {
    "id": "q5",
    "text": "A current of 3 A flows through a resistor of 4 Ω. What is the potential difference across it?",
    "options": ["7 V", "12 V", "1.33 V", "0.75 V"],
    "correct": "B",
    "solution": "Using $V = IR$, we calculate $V = 3 \\times 4 = 12$ V.",
    "solution_steps": [
      "Step 1: Use $V = IR$",
      "Step 2: Substitute $I = 3$ A and $R = 4$ Ω → $V = 3 \\times 4$",
      "Step 3: $V = 12$ V"
    ]
  },
  {
    "id": "q6",
    "text": "A resistor of resistance 5 Ω has a voltage of 20 V across it. Find the current flowing through it.",
    "options": ["4 A", "5 A", "2 A", "10 A"],
    "correct": "A",
    "solution": "Using $I = \\frac{V}{R}$, we get $I = \\frac{20}{5} = 4$ A.",
    "solution_steps": [
      "Step 1: Use $I = \\frac{V}{R}$",
      "Step 2: Substitute $V = 20$ V and $R = 5$ Ω → $I = \\frac{20}{5}$",
      "Step 3: $I = 4$ A"
    ]
  },
  {
    "id": "q7",
    "text": "If a potential difference of 10 V is applied across a resistor and the current flowing is 2 A, what is the resistance?",
    "options": ["5 Ω", "20 Ω", "8 Ω", "12 Ω"],
    "correct": "A",
    "solution": "Using $R = \\frac{V}{I}$, we calculate $R = \\frac{10}{2} = 5$ Ω.",
    "solution_steps": [
      "Step 1: Use $R = \\frac{V}{I}$",
      "Step 2: Substitute $V = 10$ V and $I = 2$ A → $R = \\frac{10}{2}$",
      "Step 3: $R = 5$ Ω"
    ]
  },
  {
    "id": "q8",
    "text": "Which property of the wire affects its resistance?",
    "options": [
      "Length, cross-sectional area, material, and temperature",
      "Only length",
      "Only cross-sectional area",
      "Only material"
    ],
    "correct": "A",
    "solution": "Resistance depends on the length, cross-sectional area, material, and temperature of the wire."
  },
  {
    "id": "q9",
    "text": "In a V-I graph, how is resistance represented?",
    "options": [
      "The area under the curve",
      "The slope of the line",
      "The intersection point with the axis",
      "The curvature of the line"
    ],
    "correct": "B",
    "solution": "The resistance is represented by the slope of the V-I graph since $R = \\frac{V}{I}$."
  },
  {
    "id": "q10",
    "text": "A current of 6 A flows through a wire and the voltage across it is 18 V. Find the resistance of the wire.",
    "options": ["3 Ω", "12 Ω", "6 Ω", "18 Ω"],
    "correct": "A",
    "solution": "Using $R = \\frac{V}{I}$, we calculate $R = \\frac{18}{6} = 3$ Ω.",
    "solution_steps": [
      "Step 1: Use $R = \\frac{V}{I}$",
      "Step 2: Substitute $V = 18$ V and $I = 6$ A → $R = \\frac{18}{6}$",
      "Step 3: $R = 3$ Ω"
    ]
  },
  {
    "id": "q11",
    "text": "A resistor of 8 Ω is connected across a 24 V source. What is the current flowing through it?",
    "options": ["2 A", "3 A", "4 A", "5 A"],
    "correct": "B",
    "solution": "Using $I = \\frac{V}{R}$, we calculate $I = \\frac{24}{8} = 3$ A.",
    "solution_steps": [
      "Step 1: Use $I = \\frac{V}{R}$",
      "Step 2: Substitute $V = 24$ V and $R = 8$ Ω → $I = \\frac{24}{8}$",
      "Step 3: $I = 3$ A"
    ]
  },
  {
    "id": "q12",
    "text": "What is the effect of increasing the length of a wire on its resistance?",
    "options": [
      "Resistance decreases",
      "Resistance increases",
      "Resistance remains constant",
      "Resistance becomes zero"
    ],
    "correct": "B",
    "solution": "Increasing the length of the wire increases its resistance because electrons face more collisions over a longer path."
  },
  {
    "id": "q13",
    "text": "Why is Nichrome wire commonly used in heating elements?",
    "options": [
      "It has low resistance",
      "It has high resistance and withstands high temperatures",
      "It is magnetic",
      "It easily melts at low temperatures"
    ],
    "correct": "B",
    "solution": "Nichrome wire has high resistance and can withstand high temperatures, making it suitable for heating elements."
  },
  {
    "id": "q14",
    "text": "A voltage of 15 V causes a current of 5 A in a conductor. Find the resistance of the conductor.",
    "options": ["3 Ω", "2 Ω", "4 Ω", "5 Ω"],
    "correct": "A",
    "solution": "Using $R = \\frac{V}{I}$, we find $R = \\frac{15}{5} = 3$ Ω.",
    "solution_steps": [
      "Step 1: Use $R = \\frac{V}{I}$",
      "Step 2: Substitute $V = 15$ V and $I = 5$ A → $R = \\frac{15}{5}$",
      "Step 3: $R = 3$ Ω"
    ]
  },
  {
    "id": "q15",
    "text": "Which of the following is true for an Ohmic conductor?",
    "options": [
      "Its resistance changes with voltage",
      "Its resistance remains constant over a range of applied voltages",
      "It heats up when current is applied",
      "It only works at low temperatures"
    ],
    "correct": "B",
    "solution": "For an Ohmic conductor, resistance remains constant as long as the temperature is constant over a range of applied voltages."
  }
]


;



let student = '';
let timerHandle;
let printMode = '';
let examDateTime = '';

const quizTitle = document.title.split("Quiz")[1]?.trim() || document.title;

function startQuiz() {
  const name = document.getElementById('studentNameInput').value.trim();
  if (!name) { alert('Please enter your name.'); return; }
  student = name;
  examDateTime = new Date().toLocaleString();
  document.getElementById('name-container').style.display = 'none';
  document.getElementById('quiz-container').style.display = 'block';
  buildQuestions();
  if (window.MathJax) MathJax.typesetPromise();
  startTimer();
}

function buildQuestions() {
  const out = document.getElementById('questions-container');
  out.innerHTML = '';

  Q.forEach((q, index) => {
    const qText = q.text || q.question || q.prompt || ''; // tolerate different keys

    // Normalize options into an ordered array of [letter, optionText]
    let entries = [];
    if (Array.isArray(q.options)) {
      entries = q.options.map((opt, i) => [String.fromCharCode(65 + i), opt]);
    } else if (q.options && typeof q.options === 'object') {
      const keys = Object.keys(q.options);
      const keysAreLetters = keys.every(k => /^[A-Z]$/.test(k));
      if (keysAreLetters) {
        keys.sort();
        entries = keys.map(k => [k, q.options[k]]);
      } else {
        entries = keys.map((k, i) => [String.fromCharCode(65 + i), q.options[k]]);
      }
    }

    const optionsHTML = entries.map(([letter, opt]) => {
      return `<label class="option-item" for="${q.id}-${letter}">
                <input type="radio" id="${q.id}-${letter}" name="${q.id}" value="${letter}" onchange="enableSubmit('${q.id}')">
                ${letter}. ${opt}
              </label>`;
    }).join('');

    const imageHTML = q.image ? `<div><img src="${q.image}" alt="figure" style="max-width:360px; margin:10px 0; display:block;"></div>` : '';

    // Handle solution steps if they exist
    let solutionStepsHTML = '';
    if (q.solution_steps && Array.isArray(q.solution_steps) && q.solution_steps.length > 0) {
      solutionStepsHTML = '<ul style="margin-top:10px;">' +
        q.solution_steps.map(step => `<li>${step}</li>`).join('') +
        '</ul>';
    }

    out.insertAdjacentHTML('beforeend', `
      <div class="question" id="${q.id}-wrap">
        <h3>Q${index + 1}. ${qText}</h3>
        ${imageHTML}
        <div class="options">${optionsHTML}</div>
        <div id="${q.id}-buttons">
          <button id="sub-${q.id}" class="submit-button" disabled onclick="grade('${q.id}')">Submit</button>
          <button class="dontknow-button" onclick="skip('${q.id}')">I Don’t Know</button>
        </div>
        <button class="toggle-button" id="btn-sol-${q.id}" style="display:none;" onclick="toggleSolution('sol-${q.id}')">Show Solution</button>
        <div class="solution" id="sol-${q.id}">
          <strong>Solution:</strong> ${q.solution || ''} ${solutionStepsHTML}
        </div>
      </div>
    `);
  });

  if (window.MathJax && typeof MathJax.typesetPromise === 'function') MathJax.typesetPromise();
}



function enableSubmit(qid) { document.getElementById(`sub-${qid}`).disabled = false; }

function grade(qid) {
  const q = Q.find(x => x.id === qid);
  // accept different possible field names for the correct answer
  const correct = q.correct || q.answer || q.key || q.correctAnswer;
  const chosen = document.querySelector(`input[name="${qid}"]:checked`);
  if (!chosen) return;

  // lock options
  document.querySelectorAll(`input[name="${qid}"]`).forEach(i => i.disabled = true);

  // the chosen label
  const chosenLabel = chosen.closest('label.option-item');

  // find input that matches the correct letter
  const correctInput = document.querySelector(`input[name="${qid}"][value="${correct}"]`);
  const correctLabel = correctInput ? correctInput.closest('label.option-item') : null;

  if (chosen.value === correct) {
    // correct
    if (chosenLabel) {
      chosenLabel.style.background = '#28a745';
      chosenLabel.style.color = '#fff';
    }
  } else {
    // wrong: mark chosen red, mark correct green (if found)
    if (chosenLabel) {
      chosenLabel.style.background = '#dc3545';
      chosenLabel.style.color = '#fff';
    }
    if (correctLabel) {
      correctLabel.style.background = '#28a745';
      correctLabel.style.color = '#fff';
    }
  }

  // show solution immediately
  const solElem = document.getElementById(`sol-${qid}`);
  if (solElem) solElem.style.display = "block";

  // hide the buttons for this question
  const buttons = document.getElementById(`${qid}-buttons`);
  if (buttons) buttons.style.display = "none";
  const btnSol = document.getElementById(`btn-sol-${q.id}`);
  if (btnSol) btnSol.style.display = "none";

  // re-typeset MathJax for solution if it contains LaTeX
  if (window.MathJax && typeof MathJax.typesetPromise === 'function') MathJax.typesetPromise();
}


function skip(qid) { document.querySelectorAll(`input[name="${qid}"]`).forEach(r => r.disabled = true); showSolutionButton(qid); }
function showSolutionButton(qid) { document.getElementById(`btn-sol-${qid}`).style.display = 'inline-block'; document.getElementById(`${qid}-buttons`).style.display = 'none'; }
function toggleSolution(id) { const elem = document.getElementById(id); elem.style.display = elem.style.display === 'block' ? 'none' : 'block'; }

function startTimer() {
  const display = document.getElementById('timer');
  const started = Date.now();
  timerHandle = setInterval(() => { const s = Math.floor((Date.now() - started) / 1000); display.textContent = `${String((s / 60) | 0).padStart(2,'0')}:${String(s % 60).padStart(2,'0')}`; }, 1000);
}

function finalSubmit() {
  clearInterval(timerHandle);
  document.querySelectorAll("input[type=radio]").forEach(r => r.disabled = true);
  document.querySelectorAll(".submit-button, .dontknow-button").forEach(btn => btn.style.display = "none");

  let totalMarks = 0;
  let negativeMarks = 0;
  let possibleMarks = Q.length * 4;
  let detailHTML = '';

  Q.forEach((q, index) => {
    const checked = document.querySelector(`input[name="${q.id}"]:checked`);
    const chosen = checked ? checked.value : null;

    const correctLetter = q.correct || q.answer || q.key || q.correctAnswer;

    let marks = 0;
    let resultText = "";

    if (chosen === null) {
      marks = 0;
      resultText = "⚪ Not Attempted / I Don’t Know (0)";
    } else if (chosen === correctLetter) {
      marks = 4;
      resultText = "✅ Correct (+4)";
    } else {
      marks = -1;
      resultText = "❌ Incorrect (-1)";
    }

    totalMarks += marks > 0 ? marks : 0;
    negativeMarks += marks < 0 ? marks : 0;

    let solutionStepsHTML = '';
    if (q.solution_steps && Array.isArray(q.solution_steps) && q.solution_steps.length > 0) {
      solutionStepsHTML = '<ul style="margin-top:5px;">' +
        q.solution_steps.map(step => `<li>${step}</li>`).join('') +
        '</ul>';
    }

    detailHTML += `
      <tr>
        <td>${index + 1}</td>
        <td>${q.text || q.question}</td>
        <td>${chosen || 'Not Answered'}</td>
        <td>${correctLetter}</td>
        <td>${resultText}</td>
        <td>${q.solution || ''}${solutionStepsHTML}</td>
        <td>${marks}</td>
      </tr>`;
  });

  const finalScore = totalMarks + negativeMarks;

  document.getElementById('scoreText').innerHTML = `${student}, here is your result:`;
  document.getElementById('scoreDetails').innerHTML = detailHTML;

  const summaryHTML = `
    <div style="margin-top:20px; font-weight:bold;">
      <p>Total Marks (Possible): ${possibleMarks}</p>
      <p>Total Marks (Correct Answers): ${totalMarks}</p>
      <p>Negative Marks (Wrong Answers): ${negativeMarks}</p>
      <p>Final Score: ${finalScore}</p>
    </div>
  `;
  document.getElementById('scorecard').insertAdjacentHTML('beforeend', summaryHTML);

  document.getElementById('scorecard').style.display = 'block';
  document.getElementById('printScoreBtn').style.display = 'inline-block';
  document.getElementById('shareWhatsappBtn').style.display = 'inline-block';

  if (window.MathJax && typeof MathJax.typesetPromise === 'function') MathJax.typesetPromise();
}






function printQuestions() { printMode = "questions"; window.print(); }
function printScorecard() { document.getElementById("studentPrintName").innerText = student; document.getElementById("examDateTime").innerText = "Exam Date & Time: " + examDateTime; printMode = "scorecard"; window.print(); }

window.addEventListener('beforeprint', () => {
  if (printMode === "questions") { document.querySelector("#questions-container").style.display = "block"; document.querySelector("#scorecard").style.display = "none"; document.querySelector("#logo").style.display = "none"; document.querySelector("#name-container").style.display = "none"; document.querySelector("#timer").style.display = "none"; document.querySelector("#studentPrintName").style.display = "none"; document.querySelector("#examDateTime").style.display = "none"; }
  if (printMode === "scorecard") { document.querySelector("#questions-container").style.display = "none"; document.querySelector("#scorecard").style.display = "block"; document.querySelector("#logo").style.display = "block"; document.querySelector("#name-container").style.display = "none"; document.querySelector("#studentPrintName").style.display = "block"; document.querySelector("#examDateTime").style.display = "block"; }
});
window.addEventListener('afterprint', () => { document.querySelector("#questions-container").style.display = ""; document.querySelector("#scorecard").style.display = ""; document.querySelector("#logo").style.display = ""; document.querySelector("#name-container").style.display = ""; document.querySelector("#timer").style.display = ""; document.querySelector("#studentPrintName").style.display = "none"; document.querySelector("#examDateTime").style.display = "none"; });




document.getElementById("shareWhatsappBtn").addEventListener("click", function () {
  const whatsappNumber = "9108069409455";

  if (!student) {
    alert("Please complete the quiz first.");
    return;
  }

  const scoreText = document.getElementById('scoreText').innerText || "Result not available";

  let totalMarks = 0;
  let negativeMarks = 0;
  let possibleMarks = Q.length * 4;

  let details = "";

  Q.forEach((q, i) => {
    const qNum = i + 1;
    const checked = document.querySelector(`input[name="${q.id}"]:checked`);
    let userAns = checked ? checked.value : null;
    const correctAns = q.correct || q.answer || q.key || q.correctAnswer;

    let marks = 0;
    let resultText = "";

    if (userAns === null) {
      marks = 0;
      resultText = "⚪ Not Attempted / I Don’t Know (0)";
      userAns = "Not Answered";
    } else if (userAns === correctAns) {
      marks = 4;
      resultText = "✅ Correct (+4)";
    } else {
      marks = -1;
      resultText = "❌ Incorrect (-1)";
    }

    totalMarks += marks > 0 ? marks : 0;
    negativeMarks += marks < 0 ? marks : 0;

    details += `Q${qNum} → ${resultText} (Your Ans: ${userAns} | Correct: ${correctAns})\n`;
  });

  const finalScore = totalMarks + negativeMarks;

  const message = `Sir, I have shared my Test Result for checking. Thank you!\n\n📘 Quiz Title: ${quizTitle}\n👤 Student: ${student}\n\n${scoreText}\n\n📊 Summary:\n✔ Total Marks (Possible): ${possibleMarks}\n✔ Total Marks (Correct Answers): ${totalMarks}\n✔ Negative Marks (Wrong Answers): ${negativeMarks}\n✔ Final Score: ${finalScore}\n\nDetails:\n${details}`;

  const waUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
  window.open(waUrl, "_blank");
});


const reportBtn = document.getElementById("reportBtn");
const reportModal = document.getElementById("reportModal");
const sendReport = document.getElementById("sendReport");
const closeReport = document.getElementById("closeReport");
const reportMsg = document.getElementById("reportMsg");

reportBtn.onclick = () => { reportModal.style.display = "block"; };
closeReport.onclick = () => { reportModal.style.display = "none"; reportMsg.value = ""; };
sendReport.onclick = () => {
  const msg = reportMsg.value.trim();
  if (!msg) { alert("Please write your message before sending."); return; }
  const whatsappNumber = "9108069409455";
  const message = `⚠️ Reported Mistake\n\n📘 Quiz Title: ${quizTitle}\n👤 Student: ${student || "Anonymous"}\n\n📝 Message:\n${msg}`;
  const waUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
  window.open(waUrl, "_blank");
  reportModal.style.display = "none";
  reportMsg.value = "";
};
</script>

</body>
</html>
